(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"+1Ro":function(t,e,s){"use strict";s.d(e,"a",function(){return o});var i=s("yifp"),o=function(){function t(t){void 0===t&&(t={}),this._collapsable=!1,this._expanded=!1,Object.assign(this,t),"number"!=typeof this.loggedOn&&"string"!=typeof this.loggedOn||(this.loggedOn=new Date(this.loggedOn)),t.user&&(this.user=new i.a(t.user))}return t.TypeNormal=0,t.TypeSystem=1,t}()},"/9y1":function(t,e,s){"use strict";function i(t){return new Promise(function(e){var s=void 0,i=void 0,o=void 0,n=document.cookie.split(";");for(s=0;s<n.length;s++)if(i=n[s].substr(0,n[s].indexOf("=")),o=n[s].substr(n[s].indexOf("=")+1),(i=i.replace(/^\s+|\s+$/g,""))===t)return e(decodeURI(o));return e(void 0)})}s.d(e,"a",function(){return i})},"1qgW":function(t,e,s){},"41wz":function(t,e,s){"use strict";var i=s("jeKe");s.n(i).a},"4Q8d":function(t,e,s){"use strict";var i=s("5JQV");s.n(i).a},"5JQV":function(t,e,s){},Gvjb:function(t,e,s){},JZbh:function(t,e,s){},MXIS:function(t,e,s){"use strict";s.d(e,"a",function(){return n});var i=s("mxJH"),o=s("pUaf"),n=function(){function t(t){void 0===t&&(t={}),Object.assign(this,t)}return Object.defineProperty(t.prototype,"chat",{get:function(){return i.b.state.chat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPmRoom",{get:function(){return this.type===t.ROOM_PM},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPrivateRoom",{get:function(){return this.type===t.ROOM_PM||this.type===t.ROOM_CLOSED_GROUP},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isGroupRoom",{get:function(){return this.type===t.ROOM_OPEN_GROUP||this.type===t.ROOM_CLOSED_GROUP||this.type===t.ROOM_VIRAL_GROUP},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMod",{get:function(){if(!this.isGroupRoom)return!1;if(this.chat.currentUser&&this.chat.currentUser.permissionLevel>=o.ChatSiteModPermission)return!0;var t=this.currentRoomUser;return!!t&&t.isMod},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMutedGlobal",{get:function(){if(!this.isGroupRoom)return!1;var t=this.currentRoomUser;return!!t&&t.isMutedGlobal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMutedRoom",{get:function(){if(!this.isGroupRoom)return!1;var t=this.currentRoomUser;return!!t&&t.isMutedRoom},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMuted",{get:function(){return this.isMutedGlobal||this.isMutedRoom},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentRoomUser",{get:function(){if(this.chat.currentUser)return this.chat.usersOnline[this.id].get(this.chat.currentUser.id)},enumerable:!0,configurable:!0}),t.ROOM_PM="pm",t.ROOM_OPEN_GROUP="open_group",t.ROOM_CLOSED_GROUP="closed_group",t.ROOM_VIRAL_GROUP="viral_group",t}()},g6LS:function(t,e,s){},g6sl:function(t,e,s){"use strict";s.d(e,"a",function(){return n});var i=s("yifp"),o=s("pUaf"),n=function(){function t(t,e){if(void 0===e&&(e=[]),this.type=t,this.collection=[],this.onlineCount=0,this.offlineCount=0,e&&e.length)for(var s=0,o=e;s<o.length;s++){var n=o[s];n.isOnline?++this.onlineCount:++this.offlineCount,this.collection.push(new i.a(n))}this.sort()}return t.prototype.get=function(t){var e="number"==typeof t?t:t.id;return this.collection.find(function(t){return t.id===e})},t.prototype.getByRoom=function(t){var e="number"==typeof t?t:t.id;return this.collection.find(function(t){return t.roomId===e})},t.prototype.has=function(t){return!!this.get(t)},t.prototype.add=function(t){this.has(t)||(t.isOnline?++this.onlineCount:t.isOnline&&++this.offlineCount,this.collection.push(t),this.sort())},t.prototype.remove=function(t){var e="number"==typeof t?t:t.id,s=this.collection.findIndex(function(t){return t.id===e});-1!==s&&(this.collection[s].isOnline?--this.onlineCount:--this.offlineCount,this.collection.splice(s,1),this.sort())},t.prototype.update=function(t){var e=this.get(t);e&&Object.assign(e,t),this.sort()},t.prototype.online=function(t){var e=this.get(t);e&&(e.isOnline||(--this.offlineCount,++this.onlineCount),e.isOnline=!0)},t.prototype.offline=function(t){var e=this.get(t);e&&(e.isOnline&&(++this.offlineCount,--this.onlineCount),e.isOnline=!1)},t.prototype.mute=function(t,e){var s=this.get(t);s&&(e?s.isMutedGlobal=!0:s.isMutedRoom=!0)},t.prototype.unmute=function(t,e){var s=this.get(t);s&&(e?s.isMutedGlobal=!1:s.isMutedRoom=!1)},t.prototype.mod=function(t){var e=this.get(t);e&&(e.isMod="moderator")},t.prototype.demod=function(t){var e=this.get(t);e&&(e.isMod=!1)},t.prototype.sort=function(){var e=this;this.type!==t.TYPE_FRIEND?this.collection.sort(function(t,s){var i=e.getSortVal(t),o=e.getSortVal(s);return i>o?1:i<o?-1:t.displayName.toLowerCase()>s.displayName.toLowerCase()?1:t.displayName.toLowerCase()<s.displayName.toLowerCase()?-1:0}):this.collection.sort(function(t,e){return e.lastMessageOn-t.lastMessageOn})},t.prototype.getSortVal=function(e){if(this.type===t.TYPE_ROOM){if(e.isMutedRoom||e.isMutedGlobal)return 4;if("owner"===e.isMod)return 0;if("moderator"===e.isMod)return 1;if(e.permissionLevel>=o.ChatSiteModPermission)return 2}return 3},t.TYPE_FRIEND="friend",t.TYPE_ROOM="room",t}()},gQiL:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("app-shortkey",{attrs:{shortkey:"c"},on:{press:this.showChatPane}}),this._v(" "),e("app-scroll-inview-parent",{staticClass:"shell-pane shell-pane-right scrollable",class:{visible:this.isRightPaneVisible},attrs:{id:"shell-chat-pane",throttle:0}},[this.isRightPaneVisible?e("app-chat-sidebar"):this._e()],1),this._v(" "),e("app-chat-windows")],1)};i._withStripped=!0;var o=s("bb6g"),n=s("JZUn"),r=s("cR8S"),a=s("BdAF"),c=s("4Qlu"),u=s("pLV6"),l=s("la05"),d=s("85Lh"),h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chat-sidebar fill-darkest"},[t.hasPublicRooms?s("div",{staticClass:"chat-rooms-list"},[s("div",{staticClass:"nav-heading first"},[s("translate",[t._v("Public Chat Rooms")])],1),t._v(" "),s("ul",{staticClass:"shell-nav"},t._l(t.chat.publicRooms,function(e){return s("li",{key:e.id},[s("a",{class:{active:t.chat.room&&t.chat.room.id===e.id},attrs:{title:e.title},on:{click:function(s){return t.onPublicRoomClicked(e.id)}}},[s("span",{staticClass:"shell-nav-icon"},[s("app-jolticon",{attrs:{icon:"users"}})],1),t._v(" "),s("span",{staticClass:"shell-nav-label"},[t._v("\n\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t")])])])}),0)]):t._e(),t._v(" "),t.chat.currentUser&&t.chat.friendsPopulated?s("div",{staticClass:"chat-friends-list"},[s("div",{staticClass:"nav-heading"},[s("translate",[t._v("Friends")])],1),t._v(" "),s("nav",{staticClass:"shell-nav-inline platform-list inline"},[s("ul",[s("li",[s("a",{class:{active:"all"===t.friendsTab},on:{click:function(e){t.friendsTab="all"}}},[s("translate",[t._v("All")]),t._v(" "),s("span",{staticClass:"badge"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t._f("number")(t.chat.friendsList.collection.length))+"\n\t\t\t\t\t\t")])],1)]),t._v(" "),s("li",[s("a",{class:{active:"online"===t.friendsTab},on:{click:function(e){t.friendsTab="online"}}},[s("translate",[t._v("Online")]),t._v(" "),s("span",{staticClass:"badge"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t._f("number")(t.chat.friendsList.onlineCount))+"\n\t\t\t\t\t\t")])],1)])])]),t._v(" "),"all"!==t.friendsTab||t.friends?"online"!==t.friendsTab||t.friends?s("app-chat-user-list",{attrs:{users:t.friends,"show-pm":!0}}):s("div",{staticClass:"alert"},[s("translate",[t._v("No friends are online.")])],1):s("div",{staticClass:"alert"},[s("translate",[t._v("No friends yet.")])],1)],1):t._e()])};h._withStripped=!0;var p=s("+rPk"),m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chat-user-list"},[s("div",{staticClass:"nav-controls"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterQuery,expression:"filterQuery"}],staticClass:"form-control",attrs:{text:"search",placeholder:"Filter..."},domProps:{value:t.filterQuery},on:{input:function(e){e.target.composing||(t.filterQuery=e.target.value)}}})]),t._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:t.users.length,expression:"users.length"}],staticClass:"shell-nav"},t._l(t.filteredUsers,function(e){return s("app-chat-user-list-item",{key:e.id,attrs:{user:e,room:t.room,"show-pm":t.showPm,"show-mod-tools":t.showModTools}})}),1)])};m._withStripped=!0;var f=s("y4QM"),v=s("6tUf"),g=s("MXIS"),y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("app-scroll-inview",{staticClass:"chat-user",attrs:{tag:"li","extra-padding":t.Screen.height/2},on:{inview:function(e){t.isInview=!0},outview:function(e){t.isInview=!1}}},[t.isInview?[s("router-link",{class:{active:t.showPm&&t.chat.room&&t.chat.room.id===t.user.roomId},attrs:{to:t.user.url,title:t.user.displayName+" (@"+t.user.username+")"},nativeOn:{"!click":function(e){return t.onUserClick(e)}}},[t.chat.notifications[t.user.roomId]?s("span",{staticClass:"tag tag-highlight notifications-tag"},[t._v("\n\t\t\t\t"+t._s(t._f("number")(t.chat.notifications[t.user.roomId]||0))+"\n\t\t\t")]):t._e(),t._v(" "),t.showModTools?s("div",{staticClass:"chat-user-moderate"},[s("span",{staticClass:"chat-user-moderate-action",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.openModTools(e)}}},[s("app-jolticon",{attrs:{icon:"cog"}})],1)]):t._e(),t._v(" "),s("div",{staticClass:"shell-nav-icon"},[s("div",{staticClass:"user-avatar"},[s("img",{attrs:{src:t.user.imgAvatar}}),t._v(" "),void 0!==t.user.isOnline?s("span",{staticClass:"chat-user-status",class:{offline:!t.user.isOnline,"online active":t.user.isOnline}}):t._e()])]),t._v(" "),s("div",{staticClass:"shell-nav-label"},[t.room?["owner"===t.user.isMod?s("span",{staticClass:"chat-user-role tag tag-highlight",attrs:{title:t.$gettext("Room Admin")}},[t._v("\n\t\t\t\t\t\tA\n\t\t\t\t\t")]):t._e(),t._v(" "),"moderator"===t.user.isMod?s("span",{staticClass:"chat-user-role tag tag-highlight",attrs:{title:t.$gettext("Room Moderator")}},[t._v("\n\t\t\t\t\t\tM\n\t\t\t\t\t")]):t._e(),t._v(" "),t.user.permissionLevel>=t.ChatSiteModPermission?s("span",{staticClass:"chat-user-role tag tag-highlight",attrs:{title:t.$gettext("Site Moderator")}},[t._v("\n\t\t\t\t\t\tS\n\t\t\t\t\t")]):t._e(),t._v(" "),t.showModTools&&(t.user.isMutedRoom||t.user.isMutedGlobal)?s("span",{staticClass:"chat-user-role tag tag-notice",attrs:{title:t.$gettext("Muted")}},[t._v("\n\t\t\t\t\t\tX\n\t\t\t\t\t")]):t._e()]:t._e(),t._v("\n\n\t\t\t\t"+t._s(t.user.displayName)+"\n\t\t\t\t"),s("span",{staticClass:"tiny"},[t._v("@"+t._s(t.user.username))])],2)])]:t._e()],2)};y._withStripped=!0;var b=s("pE3T"),w=s("pUaf"),_=s("/l1O"),C=s("z1bh"),O=function(){function t(){}return t.show=function(t,e){return o.b(this,void 0,void 0,function(){return o.e(this,function(i){switch(i.label){case 0:return[4,_.a.show({modalId:"ChatModerateUser",size:"sm",component:function(){return Object(C.b)(s.e(4).then(s.bind(null,"sM3k")))},props:{room:t,user:e}})];case 1:return[2,i.sent()]}})})},t}(),R=s("yifp"),M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isInview=!1,e.ChatSiteModPermission=w.ChatSiteModPermission,e.Screen=r.a,e}return o.d(e,t),Object.defineProperty(e.prototype,"canModerate",{get:function(){return!(!this.room||!this.showModTools)&&this.chat.canModerate(this.room,this.user)},enumerable:!0,configurable:!0}),e.prototype.onUserClick=function(t){this.showPm&&(this.chat.enterRoom(this.user.roomId),t.preventDefault())},e.prototype.openModTools=function(){this.room&&O.show(this.room,this.user)},o.c([Object(l.d)(R.a)],e.prototype,"user",void 0),o.c([Object(l.d)(g.a)],e.prototype,"room",void 0),o.c([Object(l.d)(Boolean)],e.prototype,"showPm",void 0),o.c([Object(l.d)(Boolean)],e.prototype,"showModTools",void 0),o.c([d.c],e.prototype,"chat",void 0),e=o.c([Object(l.a)({components:{AppScrollInview:b.a},filters:{number:p.a}})],e)}(u.default),P=(s("4Q8d"),s("psIG")),I=Object(P.a)(M,y,[],!1,null,"ec57a794",null);I.options.__file="app/components/chat/user-list/item/item.vue";var k=I.exports,j=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.filterQuery="",e}return o.d(e,t),Object.defineProperty(e.prototype,"filteredUsers",{get:function(){if(!this.filterQuery)return this.users;var t=this.filterQuery.toLowerCase();return this.users.filter(function(e){return Object(f.a)(t,e.displayName.toLowerCase())||Object(f.a)(t,e.username.toLowerCase())})},enumerable:!0,configurable:!0}),e.prototype.onUsersChange=function(){var t=Object(v.b)(this,a.a);t&&t.queueCheck()},o.c([Object(l.d)(Array)],e.prototype,"users",void 0),o.c([Object(l.d)(g.a)],e.prototype,"room",void 0),o.c([Object(l.d)(Boolean)],e.prototype,"showPm",void 0),o.c([Object(l.d)(Boolean)],e.prototype,"showModTools",void 0),o.c([Object(l.f)("filteredUsers")],e.prototype,"onUsersChange",null),e=o.c([Object(l.a)({components:{AppChatUserListItem:k}})],e)}(u.default),S=Object(P.a)(j,m,[],!1,null,null,null);S.options.__file="app/components/chat/user-list/user-list.vue";var L=S.exports,U=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.friendsTab="all",e.Screen=r.a,e}return o.d(e,t),Object.defineProperty(e.prototype,"friends",{get:function(){return"online"===this.friendsTab?this.chat.friendsList.collection.filter(function(t){return t.isOnline}):this.chat.friendsList.collection},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPublicRooms",{get:function(){return this.chat.publicRooms&&this.chat.publicRooms.length>0},enumerable:!0,configurable:!0}),e.prototype.onPublicRoomClicked=function(t){this.chat.enterRoom(t)},o.c([d.c],e.prototype,"chat",void 0),e=o.c([Object(l.a)({components:{AppChatUserList:L},filters:{number:p.a}})],e)}(u.default),T=Object(P.a)(U,h,[],!1,null,null,null);T.options.__file="app/components/chat/sidebar/sidebar.vue";var x=T.exports,E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.chat.room&&t.isRightPaneVisible?s("app-chat-window",{attrs:{room:t.chat.room,users:t.chat.usersOnline[t.chat.room.id],messages:t.chat.messages[t.chat.room.id]}}):t._e()};E._withStripped=!0;var N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chat-window-wrap"},[s("div",{staticClass:"chat-window-back-close",on:{click:t.closeChat}}),t._v(" "),s("div",{staticClass:"chat-window"},[s("div",{staticClass:"chat-window-back-close",on:{click:t.closeChat}}),t._v(" "),!t.room.isPmRoom&&t.isShowingUsers?s("app-scroll-inview-parent",{staticClass:"fill-darkest chat-window-users scrollable",attrs:{throttle:0}},[t.Screen.isXs?[s("br"),t._v(" "),s("div",{staticClass:"nav-controls"},[s("app-button",{attrs:{block:"",icon:"chevron-left"},on:{click:t.toggleUsers}},[s("translate",[t._v("Back to Chat")])],1)],1)]:t._e(),t._v(" "),t.room.isPmRoom?t._e():[s("div",{staticClass:"nav-heading first"},[s("translate",[t._v("Room Description")])],1),t._v(" "),s("div",{staticClass:"nav-well"},[s("div",{staticClass:"chat-compiled-room-description"},[s("div",{domProps:{innerHTML:t._s(t.room.description_compiled)}})])])],t._v(" "),s("div",{staticClass:"nav-heading"},[s("translate",[t._v("Room Users")]),t._v(" "),s("span",{staticClass:"badge",class:{"badge-highlight":t.users&&t.users.onlineCount>0}},[t._v("\n\t\t\t\t\t"+t._s(t._f("number")(t.users?t.users.onlineCount:0))+"\n\t\t\t\t")])],1),t._v(" "),t.users?s("app-chat-user-list",{attrs:{room:t.room,users:t.users.collection,"show-mod-tools":t.room.isMod}}):t._e()],2):t._e(),t._v(" "),s("div",{staticClass:"chat-window-main"},[s("div",{staticClass:"chat-window-header-wrap"},[s("div",{staticClass:"chat-window-header fill-darkest"},[s("div",{staticClass:"chat-window-header-controls"},[t.room.isPmRoom?t._e():s("app-button",{staticClass:"anim-fade-in",attrs:{sparse:"",icon:"users"},on:{click:t.toggleUsers}}),t._v(" "),t.room.isMod?s("app-button",{staticClass:"anim-fade-in",attrs:{sparse:"",icon:"edit",title:t.$gettext("Edit Room Details")},on:{click:t.showEditRoomModal}}):t._e(),t._v(" "),s("app-button",{attrs:{sparse:"",icon:"remove",title:t.$gettext("Close Room")},on:{click:t.close}})],1),t._v(" "),t._l([t.room],function(e){return s("div",{key:e.id,staticClass:"chat-window-header-content"},[e.isPmRoom?s("router-link",{staticClass:"chat-window-header-avatar avatar anim-fade-in-enlarge no-animate-xs",attrs:{to:e.user.url}},[s("img",{attrs:{src:e.user.imgAvatar,alt:""}})]):t._e(),t._v(" "),e.isPmRoom?s("h3",{staticClass:"anim-fade-in-right no-animate-xs",attrs:{title:e.user.displayName+" (@"+e.user.username+")"}},[s("router-link",{staticClass:"link-unstyled",attrs:{to:e.user.url}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.user.displayName)+"\n\t\t\t\t\t\t\t")]),t._v(" "),s("br"),t._v(" "),s("small",[t._v("@"+t._s(e.user.username))])],1):s("h3",{staticClass:"anim-fade-in-right no-animate-xs"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t\t")]),t._v(" "),e.isPmRoom||t.Screen.isXs?t._e():[s("app-fade-collapse",{attrs:{size:"sm","collapse-height":60},on:{"require-change":function(e){t.isDescriptionCollapsed=e}}},[s("div",{staticClass:"chat-window-header-room-description chat-compiled-room-description"},[s("div",{staticClass:"anim-fade-in no-animate-xs",domProps:{innerHTML:t._s(e.description_compiled)}})])]),t._v(" "),t.isDescriptionCollapsed&&!t.isShowingUsers?s("app-button",{staticClass:"anim-fade-in",attrs:{sm:""},on:{click:t.toggleUsers}},[s("translate",[t._v("more")])],1):t._e()]],2)})],2)]),t._v(" "),s("div",{staticClass:"chat-window-output fill-darker"},t._l([t.room],function(e){return s("app-chat-window-output",{key:e.id,attrs:{room:e,messages:t.messages}})}),1),t._v(" "),t.chat.currentUser?s("div",{staticClass:"chat-window-send-container"},[s("app-chat-window-send")],1):t._e()])],1)])};N._withStripped=!0;var A=s("RQOe"),$=s("g6sl"),G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("app-scroll-scroller",{nativeOn:{scroll:function(e){return t.onScroll(e)}}},[s("div",{staticClass:"-container"},[s("transition-group",{on:{enter:t.onMessageTransition}},t._l(t.messages,function(e){return s("div",{key:e.id,staticClass:"anim-fade-in no-animate-leave"},[e.dateSplit?s("div",{staticClass:"-date-split"},[s("span",{staticClass:"-inner"},[t._v(t._s(t._f("date")(e.loggedOn,"mediumDate")))])]):t._e(),t._v(" "),e.dateSplit||e.combine?t._e():s("hr",{staticClass:"-hr"}),t._v(" "),s("app-chat-window-output-item",{attrs:{message:e,room:t.room}})],1)}),0)],1)])};G._withStripped=!0;var z=s("zH3b"),D=s("BkPi"),F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chat-window-message",class:{"chat-msg-type-normal":t.message.type===t.ChatMessage.TypeNormal,"chat-msg-type-system":t.message.type===t.ChatMessage.TypeSystem,"chat-window-message-not-combined":!t.message.combine,"chat-window-message-combined":t.message.combine,"chat-window-message-can-mod":t.canModerate}},[t.message.combine?t._e():s("router-link",{staticClass:"chat-window-message-avatar",attrs:{to:t.message.user.url}},[s("img",{staticClass:"img-responsive",attrs:{src:t.message.user.imgAvatar,alt:""}})]),t._v(" "),s("div",{staticClass:"chat-window-message-container"},[t.message.combine?t._e():s("div",{staticClass:"chat-window-message-byline"},[s("router-link",{staticClass:"chat-window-message-user link-unstyled",attrs:{to:t.message.user.url}},[t._v("\n\t\t\t\t"+t._s(t.message.user.displayName)+"\n\t\t\t")]),t._v(" "),s("span",{staticClass:"chat-window-message-username"},[t._v("@"+t._s(t.message.user.username))]),t._v(" "),s("span",{staticClass:"chat-window-message-time"},[s("span",{attrs:{title:t.loggedOn}},[t._v("\n\t\t\t\t\t"+t._s(t._f("date")(t.message.loggedOn,"shortTime"))+"\n\t\t\t\t")])])],1),t._v(" "),t.canModerate?s("div",{staticClass:"chat-window-message-mod-tools"},[s("a",{staticClass:"link-muted",attrs:{title:t.$gettext("Mute User")},on:{click:t.muteUser}},[s("app-jolticon",{attrs:{icon:"friend-remove-2"}})],1)]):t._e(),t._v(" "),s("div",{staticClass:"chat-window-message-content-wrap"},[t.shouldFadeCollapse?[s("app-fade-collapse",{attrs:{"collapse-height":138,"is-open":t.isExpanded},on:{"require-change":function(e){t.isCollapsable=e},expand:function(e){t.isExpanded=!0}}},[s("div",{staticClass:"chat-window-message-content",attrs:{lang:"en"},domProps:{innerHTML:t._s(t.message.content)}})]),t._v(" "),t.isCollapsable?s("p",[s("a",{staticClass:"hidden-text-expander",on:{click:function(e){t.isExpanded=!t.isExpanded}}})]):t._e()]:[s("div",{staticClass:"chat-window-message-content",attrs:{lang:"en"},domProps:{innerHTML:t._s(t.message.content)}})]],2)])],1)};F._withStripped=!0;var H=s("+1Ro"),V=(s("1qgW"),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isExpanded=!1,e.isCollapsable=!1,e.date=D.a,e.ChatMessage=H.a,e}return o.d(e,t),Object.defineProperty(e.prototype,"shouldFadeCollapse",{get:function(){return this.message.contentRaw.split("\n").length>6||this.message.contentRaw.length>=500},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canModerate",{get:function(){return this.chat.canModerate(this.room,this.message.user)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loggedOn",{get:function(){return Object(D.a)(this.message.loggedOn,"medium")},enumerable:!0,configurable:!0}),e.prototype.muteUser=function(){this.chat.mute(this.message.user.id,this.room.id)},e.prototype.removeMessage=function(t){this.chat.removeMessage(t,this.room.id)},o.c([Object(l.d)(H.a)],e.prototype,"message",void 0),o.c([Object(l.d)(g.a)],e.prototype,"room",void 0),o.c([d.c],e.prototype,"chat",void 0),e=o.c([Object(l.a)({components:{AppFadeCollapse:A.a},filters:{date:D.a}})],e)}(u.default)),B=(s("jf9h"),Object(P.a)(V,F,[],!1,null,"537eb054",null));B.options.__file="app/components/chat/window/output/item/item.vue";var Q=B.exports,q=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shouldScroll=!0,e}return o.d(e,t),e.prototype.mounted=function(){return o.b(this,void 0,void 0,function(){var t=this;return o.e(this,function(e){switch(e.label){case 0:return this.resize$=r.a.resizeChanges.subscribe(function(){return t.autoscroll()}),[4,this.$nextTick()];case 1:return e.sent(),this.autoscroll(),[2]}})})},e.prototype.destroyed=function(){this.resize$&&(this.resize$.unsubscribe(),this.resize$=void 0)},e.prototype.onScroll=function(){this.$el.scrollHeight<this.$el.offsetHeight||(this.$el.scrollHeight-(this.$el.scrollTop+this.$el.offsetHeight)>30?this.shouldScroll=!1:this.shouldScroll=!0)},e.prototype.onMessageTransition=function(){return o.b(this,void 0,void 0,function(){return o.e(this,function(t){return this.shouldScroll&&this.autoscroll(),[2]})})},e.prototype.autoscroll=function(){this.$el.scrollTop=this.$el.scrollHeight+1e4},o.c([Object(l.d)(g.a)],e.prototype,"room",void 0),o.c([Object(l.d)(Array)],e.prototype,"messages",void 0),o.c([d.c],e.prototype,"chat",void 0),e=o.c([Object(l.a)({components:{AppChatWindowOutputItem:Q,AppScrollScroller:z.a},filters:{date:D.a}})],e)}(u.default),J=(s("uBVz"),Object(P.a)(q,G,[],!1,null,"f4d34d6c",null));J.options.__file="app/components/chat/window/output/output.vue";var Y=J.exports,X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chat-window-send fill-darker"},[t.multiLineMode?s("div",{staticClass:"-multiline-notice anim-fade-in no-animate-leave"},[s("app-jolticon",{attrs:{icon:"notice"}}),t._v(" "),s("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("\n\t\t\tYou are in multi-line editing mode. Press\n\t\t\t"),s("code",[t._v("ctrl+enter")]),t._v("\n\t\t\tto send.\n\t\t")])],1):t._e(),t._v(" "),s("div",{staticClass:"-container"},[s("div",{staticClass:"-button",on:{click:function(e){return t.sendClicked()}}},[s("app-jolticon",{attrs:{icon:"add-comment"}})],1),t._v(" "),s("div",{staticClass:"-input"},[s("textarea",{directives:[{name:"app-focus-when",rawName:"v-app-focus-when"},{name:"model",rawName:"v-model",value:t.message,expression:"message"}],key:t.chat.room.id,ref:"input",staticClass:"form-control",attrs:{placeholder:"Enter message...",rows:t.Screen.isXs?1:2},domProps:{value:t.message},on:{change:t.onChange,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.shiftKey?t.shiftEnter(e):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?(e.preventDefault(),t.ctrlEnter(e)):null},function(e){return(e.type.indexOf("key")||10===e.keyCode)&&e.ctrlKey?(e.preventDefault(),t.ctrlEnter(e)):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enter(e)}],input:function(e){e.target.composing||(t.message=e.target.value)}}})])])])};X._withStripped=!0;var W=s("V+gD"),K=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.message="",e.multiLineMode=!1,e.Screen=r.a,e.handledEvent=!1,e}return o.d(e,t),e.prototype.onChange=function(){this.multiLineMode&&0===this.message.length&&(this.multiLineMode=!1)},e.prototype.shiftEnter=function(){return o.b(this,void 0,void 0,function(){return o.e(this,function(t){return this.multiLineMode=!0,this.eventHandled(),[2]})})},e.prototype.ctrlEnter=function(){return o.b(this,void 0,void 0,function(){return o.e(this,function(t){return this.sendMessage(),this.eventHandled(),[2]})})},e.prototype.enter=function(t){if(!this.handledEvent)return this.multiLineMode?void 0:(this.sendMessage(),void t.preventDefault())},e.prototype.sendClicked=function(){this.$refs.input.focus(),this.sendMessage()},e.prototype.sendMessage=function(){var t=this.message;this.chat.queueMessage(t),this.message="",this.multiLineMode=!1},e.prototype.eventHandled=function(){return o.b(this,void 0,void 0,function(){return o.e(this,function(t){switch(t.label){case 0:return this.handledEvent=!0,[4,this.$nextTick()];case 1:return t.sent(),this.handledEvent=!1,[2]}})})},o.c([d.c],e.prototype,"chat",void 0),e=o.c([Object(l.a)({directives:{AppFocusWhen:W.a}})],e)}(u.default),Z=(s("yA3t"),Object(P.a)(K,X,[],!1,null,"7de82aac",null));Z.options.__file="app/components/chat/window/send/send.vue";var tt=Z.exports,et=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isShowingUsers=!1,e.isDescriptionCollapsed=!1,e.ChatRoom=g.a,e.Screen=r.a,e}return o.d(e,t),e.prototype.close=function(){r.a.isXs?this.chat.leaveRoom():this.chat.closeChat()},e.prototype.closeChat=function(){this.toggleRightPane()},e.prototype.showEditRoomModal=function(){},e.prototype.toggleUsers=function(){this.isShowingUsers=!this.isShowingUsers},o.c([Object(l.d)(g.a)],e.prototype,"room",void 0),o.c([Object(l.d)(Array)],e.prototype,"messages",void 0),o.c([Object(l.d)($.a)],e.prototype,"users",void 0),o.c([d.c],e.prototype,"chat",void 0),o.c([d.a],e.prototype,"toggleRightPane",void 0),e=o.c([Object(l.a)({components:{AppScrollInviewParent:a.a,AppChatUserList:L,AppChatWindowSend:tt,AppChatWindowOutput:Y,AppFadeCollapse:A.a},filters:{number:p.a}})],e)}(u.default),st=(s("41wz"),Object(P.a)(et,N,[],!1,null,"4fb190f6",null));st.options.__file="app/components/chat/window/window.vue";var it=st.exports,ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.d(e,t),o.c([d.c],e.prototype,"chat",void 0),o.c([d.c],e.prototype,"isRightPaneVisible",void 0),e=o.c([Object(l.a)({components:{AppChatWindow:it}})],e)}(u.default),nt=(s("qfNy"),Object(P.a)(ot,E,[],!1,null,"2436480d",null));nt.options.__file="app/components/chat/windows/windows.vue";var rt=nt.exports,at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.d(e,t),e.prototype.mounted=function(){var t=this;this.escapeCallback=function(){return t.hideChatPane()},n.a.register(this.escapeCallback)},e.prototype.destroyed=function(){this.escapeCallback&&(n.a.deregister(this.escapeCallback),this.escapeCallback=void 0)},e.prototype.showChatPane=function(){this.isRightPaneVisible||this.toggleRightPane()},e.prototype.hideChatPane=function(){this.isRightPaneVisible&&this.toggleRightPane()},e.prototype.onRightPaneChange=function(t){t?this.chat.sessionRoomId&&!r.a.isXs&&this.chat.enterRoom(this.chat.sessionRoomId):this.chat.leaveRoom()},o.c([d.c],e.prototype,"chat",void 0),o.c([d.c],e.prototype,"isRightPaneVisible",void 0),o.c([d.a],e.prototype,"toggleRightPane",void 0),o.c([Object(l.f)("isRightPaneVisible")],e.prototype,"onRightPaneChange",null),e=o.c([Object(l.a)({components:{AppScrollInviewParent:a.a,AppChatSidebar:x,AppChatWindows:rt,AppShortkey:c.a}})],e)}(u.default),ct=Object(P.a)(at,i,[],!1,null,null,null);ct.options.__file="app/components/shell/chat/chat.vue";e.default=ct.exports},jeKe:function(t,e,s){},jf9h:function(t,e,s){"use strict";var i=s("Gvjb");s.n(i).a},pUaf:function(t,e,s){"use strict";s.r(e);var i=s("bb6g"),o=s("Nrbm"),n=s("tpNL"),r=s("c2ng"),a=s("czhI"),c=s.n(a),u=function(){function t(){}return t.createConnection=function(t){return i.b(this,void 0,void 0,function(){var e,o,n,r,a=this;return i.e(this,function(c){switch(c.label){case 0:return[4,s.e(100).then(s.t.bind(null,"B00o",7))];case 1:return e=c.sent().default,[4,this.getStreamingHost(t)];case 2:return o=c.sent(),n=new e(o,{reconnect:{maxDelay:15e3,minDelay:500,retries:1/0}}),r=!1,n.on("reconnect scheduled",function(){return i.b(a,void 0,void 0,function(){return i.e(this,function(e){switch(e.label){case 0:return r?[2]:(r=!0,[4,this.getStreamingHost(t)]);case 1:return o=e.sent(),r&&(n.url=n.parse(o)),[2]}})})}),n.on("reconnected",function(){return r=!1}),[2,n]}})})},t.getStreamingHost=function(t){var e=this;return new Promise(function(s){e.queryForHost(t,s)})},t.queryForHost=function(t,e){return i.b(this,void 0,void 0,function(){var s,o,n=this;return i.e(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,c.a.get(t+"/_info",{ignoreLoadingBar:!0})];case 1:if(s=i.sent(),o=-1===t.search(/^https/)?"http":"https",200!==s.status)throw new Error("Could not find host.");return e(o+"://"+s.data.host),[3,3];case 2:return i.sent(),window.setTimeout(function(){n.queryForHost(t,e)},1e3+5e3*Math.random()),[3,3];case 3:return[2]}})})},t}(),l=s("pLV6"),d=s("/9y1"),h=s("mxJH"),p=s("+1Ro"),m=s("N3aq"),f=function(){function t(){}return Object.defineProperty(t,"chat",{get:function(){return h.b.state.chat},enumerable:!0,configurable:!0}),t.notification=function(t){var e=this;this.chat.isInRoom(t.roomId)||m.a.info({title:t.user.displayName,message:t.contentRaw,icon:t.user.imgAvatar,onclick:function(){e.chat.enterRoom(t.roomId)},system:!0})},t}(),v=s("MXIS"),g=s("yifp"),y=s("g6sl");s.d(e,"ChatMaxNumMessages",function(){return b}),s.d(e,"ChatSiteModPermission",function(){return w}),s.d(e,"ChatClient",function(){return _});var b=200,w=2,_=function(){function t(){this.connected=!1,this.allCount=0,this.publicRooms=[],this.currentUser=null,this.friendsList=null,this.friendsPopulated=!1,this.room=null,this.messages={},this.usersOnline={},this.notifications={},this.isFocused=!0,this.messageQueue=[],this.sendingMessage=!1,this.spark=null,this.primus=null,this.startTime=0,this._init()}return Object.defineProperty(t.prototype,"sessionRoomId",{get:function(){var t=sessionStorage.getItem("chat:room");return t?parseInt(t,10):void 0},set:function(t){t?sessionStorage.setItem("chat:room",t+""):sessionStorage.removeItem("chat:room")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"friendNotificationsCount",{get:function(){for(var t=0,e=0,s=Object.keys(this.notifications);e<s.length;e++){var i=s[e],o=this.notifications[i];this.friendsList.getByRoom(parseInt(i,10))&&(t+=o||0)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"roomNotificationsCount",{get:function(){for(var t=0,e=0,s=Object.values(this.notifications);e<s.length;e++){t+=s[e]||0}return t},enumerable:!0,configurable:!0}),t.prototype._init=function(){return i.b(this,void 0,void 0,function(){return i.e(this,function(t){switch(t.label){case 0:return[4,l.default.nextTick()];case 1:return t.sent(),this.reset(),this.initPrimus(),[2]}})})},t.prototype.reset=function(){this.startTime=Date.now(),this.currentUser=null,this.friendsList=new y.a(y.a.TYPE_FRIEND),this.friendsPopulated=!1,this.room=null,this.messages={},this.usersOnline={},this.notifications={},this.isFocused=!0,this.messageQueue=[],this.sendingMessage=!1},t.prototype.reconnect=function(){this.reset(),this.spark&&this.spark.end(void 0,{reconnect:!0})},t.prototype.logout=function(){this.reconnect()},t.prototype.initPrimus=function(){return i.b(this,void 0,void 0,function(){var t,e=this;return i.e(this,function(s){switch(s.label){case 0:return t=this,[4,u.createConnection(n.a.chatHost)];case 1:return t.primus=s.sent(),this.primus.on("open",function(t){return i.b(e,void 0,void 0,function(){var e,s;return i.e(this,function(i){switch(i.label){case 0:return e=Date.now()-this.startTime,o.a.trackTiming("chat","spark-open",Math.min(e,6e4)),this.spark=t,[4,Object(d.a)("frontend")];case 1:return s=i.sent(),this.primus.write({event:"set-cookie",cookie:s}),[2]}})})}),this.primus.on("data",function(t){return e._processMessage(t)}),[2]}})})},t.prototype.setRoom=function(t){this.leaveRoom(),t&&(this.currentUser&&this.primus.write({event:"room-focus",roomId:t.id}),t.isGroupRoom&&l.default.delete(this.notifications,""+t.id),this.sessionRoomId=t.id),this.room=t||null},t.prototype.newNotification=function(t){this.isInRoom(t)&&this.isFocused||(this.notifications[t]?this.notifications[t]=this.notifications[t]+1:l.default.set(this.notifications,""+t,1))},t.prototype.enterRoom=function(t){this.isInRoom(t)||(h.b.state.isRightPaneVisible?this.primus.write({event:"enter-room",roomId:t,isSource:!0}):(this.sessionRoomId=t,h.b.dispatch("toggleRightPane")))},t.prototype.closeChat=function(){h.b.state.isRightPaneVisible&&h.b.dispatch("toggleRightPane")},t.prototype.leaveRoom=function(){this.room&&this.primus.write({event:"leave-room",roomId:this.room.id})},t.prototype.queueMessage=function(t){""!==(t=t.replace(/^\s+/,"").replace(/\s+$/,""))&&(this.messageQueue.push(t),this._sendNextMessage())},t.prototype.outputMessage=function(t,e,s,i){if(this.room&&this.isInRoom(t)){if(s.type=e,s.loggedOn=new Date(s.loggedOn),s.combine=!1,s.dateSplit=!1,this.messages[t].length){var o=this.messages[t][this.messages[t].length-1];s.userId===o.userId&&s.loggedOn.getTime()-o.loggedOn.getTime()<=3e5&&(s.combine=!0),s.loggedOn.toDateString()!==o.loggedOn.toDateString()&&(s.dateSplit=!0,s.combine=!1)}else s.dateSplit=!0;this.room.isPrivateRoom||i||this.newNotification(t),this.messages[t].push(s),this.messages[t].length>b&&this.messages[t].splice(0,1)}},t.prototype._processMessage=function(t){if("connected"===t.event){var e=Date.now()-this.startTime;o.a.trackTiming("chat","connected",Math.min(e,6e4)),this.currentUser=t.data.user?new g.a(t.data.user):null,this.connected=!0,this.setRoom(void 0)}else if("friends-list"===t.event){var s=t.data.friendsList;s&&(this.friendsList=new y.a(y.a.TYPE_FRIEND,s),this.friendsPopulated=!0)}else if("public-rooms"===t.event)this.publicRooms=t.data.rooms.map(function(t){return new v.a(t)});else if("notifications"===t.event)this.notifications=t.data.notifications;else if("message"===t.event){var i=new p.a(t.data.message);this._processNewOutput([i],!1),(O=this.friendsList.getByRoom(i.roomId))&&(O.lastMessageOn=i.loggedOn.getTime(),this.friendsList.update(O)),this.sendingMessage=!1,this.messageQueue.length&&this._sendNextMessage()}else if("message-removed"===t.event){var n=t.data.id,r=t.data.roomId;if(this.messages[r].length){var a=this.messages[r].findIndex(function(t){return t.id===n});-1!==a&&this.messages[r].splice(a,1)}}else if("notification"===t.event){i=new p.a(t.data.message);this.newNotification(i.roomId),(O=this.friendsList.getByRoom(i.roomId))&&(console.log(i),O.lastMessageOn=i.loggedOn.getTime(),console.log("Updated friend timestamp to "+O.lastMessageOn),this.friendsList.update(O)),f.notification(i)}else if("clear-notifications"===t.event){r=t.data.roomId;this.isInRoom(r)&&l.default.delete(this.notifications,""+r)}else if("user-enter-room"===t.event){var c=new g.a(t.data.user);r=t.data.roomId;this.room&&this.isInRoom(r)&&this.room.isGroupRoom&&this.usersOnline[r].add(c)}else if("user-leave-room"===t.event){var u=t.data.userId;r=t.data.roomId;this.room&&this.isInRoom(r)&&this.room.isGroupRoom&&this.usersOnline[r].remove(u)}else if("user-muted"===t.event){var d=t.data.userId,h=(r=t.data.roomId,t.data.isGlobal);this.room&&this.room.isGroupRoom&&(this.messages[r].length&&(this.messages[r]=this.messages[r].filter(function(t){return t.userId!==d})),this.usersOnline[r]&&this.usersOnline[r].mute(d,h))}else if("user-unmuted"===t.event){u=t.data.userId,r=t.data.roomId,h=t.data.isGlobal;this.room&&this.room.isGroupRoom&&this.usersOnline[r]&&this.usersOnline[r].unmute(u,h)}else if("role-set"===t.event){u=t.data.userId,r=t.data.roomId;var m=t.data.action;this.room&&this.room.isGroupRoom&&this.usersOnline[r]&&("mod"===m?this.usersOnline[r].mod(u):"demod"===m&&this.usersOnline[r].demod(u))}else if("message-cleared"===t.event);else if("room-cleared"===t.event);else if("prime-chatroom"===t.event){var b=new v.a(t.data.room),w=t.data.messages.map(function(t){return new p.a(t)}),_=t.data.users;w.reverse(),this._joinRoom(b,w,_)}else if("room-updated"===t.event);else if("you-updated"===t.event){var C=new g.a(t.data.user);this.currentUser=C}else if("user-updated"===t.event){r=t.data.roomId,c=new g.a(t.data.user);this.room&&this.isInRoom(r)&&this.room.isGroupRoom&&this.usersOnline[r].update(c)}else if("friend-updated"===t.event){c=new g.a(t.data.user);this.friendsList.update(c)}else if("friend-add"===t.event){c=new g.a(t.data.user);this.friendsList.add(c)}else if("friend-remove"===t.event){var O;u=t.data.userId;(O=this.friendsList.get(u))&&this.isInRoom(O.roomId)&&this.leaveRoom(),this.friendsList.remove(u)}else if("friend-online"===t.event){c=new g.a(t.data.user);this.friendsList.online(c)}else if("friend-offline"===t.event){u=t.data.userId;this.friendsList.offline(u)}else if("you-leave-room"===t.event){r=t.data.roomId;this.isInRoom(r)&&(this.setRoom(void 0),l.default.delete(this.usersOnline,r),l.default.delete(this.messages,r))}else"online-count"===t.event&&(this.allCount=t.data.onlineCount)},t.prototype._joinRoom=function(t,e,s){if(!this.isInRoom(t.id)){if(t.type===v.a.ROOM_PM){var i=this.friendsList.getByRoom(t.id);i&&(t.user=i)}l.default.set(this.messages,""+t.id,[]),t.isGroupRoom&&l.default.set(this.usersOnline,""+t.id,new y.a(y.a.TYPE_ROOM,s)),this.setRoom(t),this._processNewOutput(e,!0)}},t.prototype.mod=function(t,e){this.primus.write({event:"user-mod",userId:t,roomId:e})},t.prototype.demod=function(t,e){this.primus.write({event:"user-demod",userId:t,roomId:e})},t.prototype.mute=function(t,e){this.primus.write({event:"user-mute",userId:t,roomId:e})},t.prototype.unmute=function(t,e){this.primus.write({event:"user-unmute",userId:t,roomId:e})},t.prototype.removeMessage=function(t,e){this.primus.write({event:"message-remove",msgId:t,roomId:e})},t.prototype._processNewOutput=function(t,e){var s=this;t.length&&t.forEach(function(t){s.outputMessage(t.roomId,p.a.TypeNormal,t,e),r.a.emit("Chat.newMessage",{message:t,isPrimer:e})})},t.prototype._sendNextMessage=function(){if(!this.sendingMessage&&this.room){this.sendingMessage=!0;var t=this.messageQueue.shift();if(t)return this.room.isMuted?(this.sendRoboJolt(this.room.id,"*Beep boop bop.* You are muted and cannot talk. Please read the chat rules for every room you enter so you may avoid this in the future. *Bzzzzzzzzt.*","<p><em>Beep boop bop.</em> You are muted and cannot talk. Please read the chat rules for every room you enter so you may avoid this in the future. <em>Bzzzzzzzzt.</em></p>"),void(this.sendingMessage=!1)):void this.primus.write({event:"message",content:t,roomId:this.room.id});this.sendingMessage=!1}},t.prototype.sendRoboJolt=function(t,e,s){var i=new p.a({id:Math.random(),type:p.a.TypeSystem,userId:192757,user:new g.a({id:192757,username:"robo-jolt-2000",displayName:"RoboJolt 2000",imgAvatar:"https://secure.gravatar.com/avatar/eff6eb6a79a34774e8f94400931ce6c9?s=200&r=pg&d=https%3A%2F%2Fs.gjcdn.net%2Fimg%2Fno-avatar-3.png"}),roomId:t,contentRaw:e,content:s,loggedOn:new Date});this.outputMessage(t,p.a.TypeSystem,i,!1)},t.prototype.canModerate=function(t,e,s){return void 0===s&&(s=""),!(!this.currentUser||"pm"===t.type)&&(!(e.permissionLevel>=w)&&(this.currentUser.permissionLevel>=w||!!t.isMod&&("owner"===t.isMod&&"owner"!==e.isMod||"mod"!==s&&("moderator"===t.isMod&&!e.isMod))))},t.prototype.setFocused=function(t){this.isFocused=t,this.room&&this.currentUser&&(this.isFocused?this.primus.write({event:"room-focus",roomId:this.room.id}):this.primus.write({event:"room-unfocus",roomId:this.room.id}))},t.prototype.isInRoom=function(t){return t?!!this.room&&this.room.id===t:!!this.room},t}()},qfNy:function(t,e,s){"use strict";var i=s("g6LS");s.n(i).a},rKSE:function(t,e,s){},uBVz:function(t,e,s){"use strict";var i=s("rKSE");s.n(i).a},yA3t:function(t,e,s){"use strict";var i=s("JZbh");s.n(i).a},yifp:function(t,e,s){"use strict";s.d(e,"a",function(){return i});var i=function(){function t(t){void 0===t&&(t={}),this.isMod=!1,Object.assign(this,t)}return Object.defineProperty(t.prototype,"url",{get:function(){return"/@"+this.username},enumerable:!0,configurable:!0}),t}()}}]);
//# sourceMappingURL=maps/chat.738fe914.map