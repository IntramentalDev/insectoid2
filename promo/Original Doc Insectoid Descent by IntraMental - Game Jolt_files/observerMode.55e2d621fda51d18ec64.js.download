(window.webpackJsonpTyche=window.webpackJsonpTyche||[]).push([[8],{"6Z/d":function(e,t,s){"use strict";s.r(t),s.d(t,"ObserverMode",function(){return b});var o=s("J4zp"),n=s.n(o),r=s("lwsE"),i=s.n(r),c=s("W8MJ"),a=s.n(c),l=s("JBZJ"),h=s("m9MW"),d=s("aYIL"),u=s("jP3f"),b=function(){function t(e){i()(this,t),this.observer=null,this.targetNode=document.getElementById(e.selector),this.searchTerm=e.isMobile?"data-pw-mobi":"data-pw-desk",this.selector=e.selector}return a()(t,[{key:"init",value:function(){null!==this.targetNode?this.setObserver():Object(h.a)("No element exists with the ID of ".concat(this.selector,",\n                exiting Observer Mode"))}},{key:"setObserver",value:function(){null===this.observer&&(this.observer=new MutationObserver(this.loopMutations.bind(this)),this.checkDOM(),this.observer.observe(this.targetNode,{childList:!0,subtree:!0}),Object(h.a)("observerMode active"))}},{key:"loopMutations",value:function(e){var t=!0,s=!1,o=void 0;try{for(var r,i=e[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var n=r.value;"childList"===n.type&&0<n.addedNodes.length&&!0!==n.target.processed&&this.checkDOM()}}catch(e){s=!0,o=e}finally{try{t||null==i.return||i.return()}finally{if(s)throw o}}}},{key:"checkDOM",value:function(){for(var e=this.targetNode.querySelectorAll("div[".concat(this.searchTerm,"]")),t=0;t<e.length;t++)e[t].processed||""!==e[t].id||(e[t].processed=!0,this.observeAction(e[t]))}},{key:"observeAction",value:function(e){var i=window.tyche.settings;Object(h.a)("Observe Action",e),Object(d.c)(i,e).then(function(e){return Promise.all([Object(u.a)(i,e.id),e])},function(e){Object(h.a)("Prebid Auction Error: ",e)}).then(function(e){var t=n()(e,2),s=t[0],o=t[1],r=o.id;window.googletag.cmd.push(function(){if(i.hbEnabled&&(Object(l.c)(i.slots[r].slot),s&&Object(l.l)(s),window[window.tyche.pbKey].setTargetingForGPTAsync(r)),i.slots[r].slot.setTargeting("refresh","false"),void 0!==i.firstSlots&&Object(l.m)(),i.hasFocus)window.googletag.pubads().refresh([o.slot]);else{var e=o;i.delayedSlots.push({slot:e,refresh:!1})}})}).catch(function(e){Object(h.a)("Error Processing tag:",e)})}}]),t}()}}]);