(window.webpackJsonppageos=window.webpackJsonppageos||[]).push([[3],{"7D8W":function(s,e,i){"use strict";i.r(e),i.d(e,"default",function(){return o});var t=i("6Ox+");function n(s,e){for(var i=0;i<e.length;i++){var t=e[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(s,t.key,t)}}var o=function(){function s(){var e=this;!function(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),window.PageOS.session=window.PageOS.session||{},this.MODULE=window.PageOS.session,this.hasLocalStorage=Object(t.a)(),this.MODULE.getUUID=null,this.MODULE.getDuration=function(){return null},this.MODULE.getPageNumber=null,this.MODULE.newPageView=function(){return null},this.hasLocalStorage&&(this.init(),this.MODULE.newPageView=function(){e.init()})}var e,i,o;return e=s,(i=[{key:"init",value:function(){this.sessionInfo=this.getSessionInfo(),this.setUUID(),this.setDuration(),this.setPageNumber(),this.MODULE.getUUID=this.getUUID(),this.MODULE.getDuration=this.getDuration.bind(this),this.MODULE.getPageNumber=this.getPageNumber()}},{key:"getSessionInfo",value:function(){var s=JSON.parse(localStorage.getItem("PageOS_Session"))||{};return void 0!==s.lastVisit&&Date.now()-s.lastVisit>18e5?(localStorage.removeItem("PageOS_Session"),{}):s}},{key:"getDuration",value:function(){return Date.now()-this.sessionInfo.firstVisit}},{key:"setDuration",value:function(){void 0===this.sessionInfo.firstVisit&&(this.sessionInfo.firstVisit=Date.now(),this.storeSessionInfo(this.sessionInfo))}},{key:"getPageNumber",value:function(){return this.sessionInfo.pageNumber}},{key:"setPageNumber",value:function(){"number"!=typeof this.sessionInfo.pageNumber?this.sessionInfo.pageNumber=1:++this.sessionInfo.pageNumber,this.setLastVisit(),this.storeSessionInfo(this.sessionInfo)}},{key:"setLastVisit",value:function(){this.sessionInfo.lastVisit=Date.now(),this.storeSessionInfo(this.sessionInfo)}},{key:"getUUID",value:function(){return this.sessionInfo.UUID}},{key:"setUUID",value:function(){this.sessionInfo.UUID||window.PageOS.kinesis&&window.PageOS.kinesis.randomUuid&&(this.sessionInfo.UUID=window.PageOS.kinesis.randomUuid("session"),this.storeSessionInfo(this.sessionInfo))}},{key:"storeSessionInfo",value:function(s){localStorage.setItem("PageOS_Session",JSON.stringify(s))}}])&&n(e.prototype,i),o&&n(e,o),s}()}}]);